!function(n){var e={};function r(t){if(e[t])return e[t].exports;var o=e[t]={i:t,l:!1,exports:{}};return n[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=n,r.c=e,r.d=function(n,e,t){r.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,e){if(1&e&&(n=r(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)r.d(t,o,function(e){return n[e]}.bind(null,o));return t},r.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(e,"a",e),e},r.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},r.p="",r(r.s=0)}({"./src/js/script.js":
function(module,exports){eval("var form = document.querySelector('.js-upload-form');\nvar submitBtn = form && form.querySelector('.js-form-submit');\nvar uploadBox = form && form.querySelector('.js-upload-box');\nvar comment = form && form.querySelector('.js-comment');\nvar checkbox = document.getElementById('ba-upload-agree');\nvar filesAdded = false;\nvar wasError = false;\n/**\r\n * Popup\r\n */\n\nfunction popupEvents() {\n  var btns = document.querySelectorAll('.js-popup-open');\n  var popups = document.querySelectorAll('.js-popup');\n\n  if (btns && btns.length) {\n    btns.forEach(function (btn) {\n      btn.addEventListener('click', function (event) {\n        event.preventDefault();\n        var id = btn.dataset.id;\n\n        if (id) {\n          var target = document.getElementById(id);\n\n          if (target) {\n            target.classList.add('open');\n          }\n        }\n      });\n    });\n  }\n\n  function closePopup(clickTarget, targetClass) {\n    if (clickTarget) {\n      clickTarget.addEventListener('click', function () {\n        clickTarget.closest(targetClass).classList.remove('open');\n      });\n    }\n  }\n\n  if (popups && popups.length) {\n    popups.forEach(function (popup) {\n      if (popup) {\n        var btn = popup.querySelector('.js-popup-close');\n        closePopup(btn, '.js-popup');\n      }\n    });\n  }\n}\n/**\r\n * Open comment field on focus\r\n */\n\n\nif (comment) {\n  comment.addEventListener('focus', function (e) {\n    e.target.classList.add('open');\n  });\n}\n/**\r\n * Check privacy checkbox enabled/disabled\r\n */\n\n\nfunction checkPolicy() {\n  var checked = true;\n\n  if (checkbox) {\n    checkbox.addEventListener('change', function (e) {\n      if (filesAdded) {\n        if (!e.target.checked) {\n          submitBtn.disabled = true;\n        } else {\n          submitBtn.disabled = false;\n        }\n      }\n    });\n  }\n\n  return checked;\n}\n/**\r\n * Form functinality\r\n */\n\n\nfunction uploadForm() {\n  if (form) {\n    var previewNode = document.querySelector('#template');\n\n    if (previewNode) {\n      previewNode.id = '';\n    }\n\n    var previewTemplate = previewNode.parentNode.innerHTML;\n\n    if (previewTemplate) {\n      previewNode.parentNode.removeChild(previewNode);\n    }\n\n    var myDropzone = new Dropzone(document.querySelector('.js-upload-form'), {\n      // url: 'http://backstage/ba-upload/dist/upload.php',\n      thumbnailWidth: 80,\n      thumbnailHeight: 80,\n      parallelUploads: 20,\n      acceptedFiles: 'image/*',\n      previewTemplate: previewTemplate,\n      autoQueue: false,\n      previewsContainer: '#previews',\n      clickable: '.js-upload-btn',\n      uploadMultiple: true\n    });\n    myDropzone.on('successmultiple', function () {\n      var url = window.location.href + '/thank-you.html';\n      window.location = url;\n    });\n    myDropzone.on('addedfile', function () {\n      filesAdded = true;\n      submitBtn.disabled = false;\n    });\n    myDropzone.on('processingmultiple', function () {\n      var preloader = form.querySelector('.js-preloader');\n\n      if (preloader) {\n        preloader.classList.remove('d-none');\n      }\n    });\n    myDropzone.on('error', function (event) {\n      if (!wasError) {\n        var errorBox = document.querySelector('.js-message');\n\n        if (errorBox) {\n          var html = '<p>Щось пішло не так. Оновіть сторінку і спробуйте ще раз!</p>';\n          errorBox.insertAdjacentHTML('afterbegin', html);\n        }\n      }\n\n      wasError = true;\n    });\n    myDropzone.on('removedfile', function () {\n      if (!myDropzone.files.length) {\n        filesAdded = false;\n        submitBtn.disabled = true;\n      }\n    });\n\n    if (form) {\n      form.addEventListener('submit', function (event) {\n        event.preventDefault();\n        myDropzone.enqueueFiles(myDropzone.getFilesWithStatus(Dropzone.ADDED));\n      });\n    }\n  }\n}\n/**\r\n * LOAD EVENTS\r\n */\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  popupEvents();\n  uploadForm();\n  checkPolicy();\n});\n\n//# sourceURL=webpack:///./src/js/script.js?")},0:
function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__(/*! D:\\OSPanel\\domains\\backstage\\ba-upload\\src\\js\\script.js */"./src/js/script.js");\n\n\n//# sourceURL=webpack:///multi_./src/js/script.js?')}});